{"ast":null,"code":"var _s = $RefreshSig$();\n// hooks/useProductFilter.js\nimport { useState, useEffect } from \"react\";\nimport fallbackProducts from \"../data/products\"; // backup static list if fetch fails\n\nexport default function useProductFilter() {\n  _s();\n  const [productList, setProductList] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"Churna\");\n  useEffect(() => {\n    fetch(\"https://script.google.com/macros/s/AKfycbyUqnDENqxjYnRD6xJY_oh-OMuKvPjAsS-aqwhFzbzW_OH1Y8zIlHJyl-AF8XEAZrPr/exec?key=DPRTMNT54$\").then(res => res.json()).then(data => {\n      if (Array.isArray(data)) {\n        setProductList(data);\n      } else {\n        console.warn(\"Invalid data structure from Google Sheet\");\n        setProductList(fallbackProducts);\n      }\n    }).catch(err => {\n      console.error(\"Failed to fetch from Google Sheet:\", err);\n      setProductList(fallbackProducts);\n    });\n  }, []);\n  const filteredProducts = productList.filter(p => {\n    if (search.trim()) {\n      var _p$name;\n      return (_p$name = p.name) === null || _p$name === void 0 ? void 0 : _p$name.toLowerCase().includes(search.toLowerCase());\n    }\n    return p.category === selectedCategory;\n  });\n  return {\n    products: productList,\n    filteredProducts,\n    search,\n    setSearch,\n    selectedCategory,\n    setSelectedCategory\n  };\n}\n_s(useProductFilter, \"qffxkWLUHVEiy19R9U64DaMOctA=\");","map":{"version":3,"names":["useState","useEffect","fallbackProducts","useProductFilter","_s","productList","setProductList","search","setSearch","selectedCategory","setSelectedCategory","fetch","then","res","json","data","Array","isArray","console","warn","catch","err","error","filteredProducts","filter","p","trim","_p$name","name","toLowerCase","includes","category","products"],"sources":["C:/Users/Jai Ayurved research/Documents/Projects/Projuect Supervisor/src/hooks/useProductFilter.js"],"sourcesContent":["// hooks/useProductFilter.js\r\nimport { useState, useEffect } from \"react\";\r\nimport fallbackProducts from \"../data/products\"; // backup static list if fetch fails\r\n\r\nexport default function useProductFilter() {\r\n  const [productList, setProductList] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedCategory, setSelectedCategory] = useState(\"Churna\");\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://script.google.com/macros/s/AKfycbyUqnDENqxjYnRD6xJY_oh-OMuKvPjAsS-aqwhFzbzW_OH1Y8zIlHJyl-AF8XEAZrPr/exec?key=DPRTMNT54$\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (Array.isArray(data)) {\r\n          setProductList(data);\r\n        } else {\r\n          console.warn(\"Invalid data structure from Google Sheet\");\r\n          setProductList(fallbackProducts);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Failed to fetch from Google Sheet:\", err);\r\n        setProductList(fallbackProducts);\r\n      });\r\n  }, []);\r\n\r\n  const filteredProducts = productList.filter((p) => {\r\n    if (search.trim()) {\r\n      return p.name?.toLowerCase().includes(search.toLowerCase());\r\n    }\r\n    return p.category === selectedCategory;\r\n  });\r\n\r\n  return {\r\n    products: productList,\r\n    filteredProducts,\r\n    search,\r\n    setSearch,\r\n    selectedCategory,\r\n    setSelectedCategory,\r\n  };\r\n}\r\n"],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,gBAAgB,MAAM,kBAAkB,CAAC,CAAC;;AAEjD,eAAe,SAASC,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EACzC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACS,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGV,QAAQ,CAAC,QAAQ,CAAC;EAElEC,SAAS,CAAC,MAAM;IACdU,KAAK,CAAC,iIAAiI,CAAC,CACrIC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MACd,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;QACvBT,cAAc,CAACS,IAAI,CAAC;MACtB,CAAC,MAAM;QACLG,OAAO,CAACC,IAAI,CAAC,0CAA0C,CAAC;QACxDb,cAAc,CAACJ,gBAAgB,CAAC;MAClC;IACF,CAAC,CAAC,CACDkB,KAAK,CAAEC,GAAG,IAAK;MACdH,OAAO,CAACI,KAAK,CAAC,oCAAoC,EAAED,GAAG,CAAC;MACxDf,cAAc,CAACJ,gBAAgB,CAAC;IAClC,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMqB,gBAAgB,GAAGlB,WAAW,CAACmB,MAAM,CAAEC,CAAC,IAAK;IACjD,IAAIlB,MAAM,CAACmB,IAAI,CAAC,CAAC,EAAE;MAAA,IAAAC,OAAA;MACjB,QAAAA,OAAA,GAAOF,CAAC,CAACG,IAAI,cAAAD,OAAA,uBAANA,OAAA,CAAQE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvB,MAAM,CAACsB,WAAW,CAAC,CAAC,CAAC;IAC7D;IACA,OAAOJ,CAAC,CAACM,QAAQ,KAAKtB,gBAAgB;EACxC,CAAC,CAAC;EAEF,OAAO;IACLuB,QAAQ,EAAE3B,WAAW;IACrBkB,gBAAgB;IAChBhB,MAAM;IACNC,SAAS;IACTC,gBAAgB;IAChBC;EACF,CAAC;AACH;AAACN,EAAA,CArCuBD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}