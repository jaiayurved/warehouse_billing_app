{"ast":null,"code":"// utils/submitOrder.js (final debugged version with MFG/EXP for WhatsApp)\nimport exportToCSV from './exportToCSV';\nimport sendViaWhatsApp from './sendViaWhatsApp';\nexport default function submitOrder({\n  cart,\n  dealer,\n  vehicleName,\n  vehicleNumber,\n  notes,\n  totalCTN\n}) {\n  const dealerName = (dealer === null || dealer === void 0 ? void 0 : dealer[\"Dealer Name\"]) || \"Unknown Dealer\";\n\n  // 1. Export to CSV\n  exportToCSV(cart, dealerName, vehicleName, vehicleNumber, notes);\n\n  // 2. Build WhatsApp message manually\n  let msg = `üõí *Factory Dispatch Summary*\\n\\n`;\n  msg += `üë§ Dealer: ${dealerName}\\n`;\n  cart.forEach(item => {\n    const totalItemQty = item.entries.reduce((sum, e) => sum + (e.qty || 0) * (e.ctn || 0), 0);\n    msg += `\\nüîπ ${item.name} ‚Äì ${totalItemQty} pcs`;\n    item.entries.forEach(entry => {\n      msg += `\\n   üì¶ Batch: ${entry.batch || '-'}, Qty: ${entry.qty || 0}, CTN: ${entry.ctn || 0}`;\n    });\n  });\n  msg += `\\n\\nüöõ Vehicle: ${vehicleName || 'N/A'} (${vehicleNumber || 'N/A'})`;\n  msg += `\\nüì¶ Total CTNs: ${totalCTN || 0}`;\n  if (notes) msg += `\\nüìù Notes: ${notes}`;\n  msg += `\\n\\n‚úÖ CSV attached. Please review.`;\n  console.log(\"üì¶ WhatsApp Message Preview:\\n\", msg);\n\n  // 3. Send message via WhatsApp\n  sendViaWhatsApp(\"919829280873\", msg);\n}","map":{"version":3,"names":["exportToCSV","sendViaWhatsApp","submitOrder","cart","dealer","vehicleName","vehicleNumber","notes","totalCTN","dealerName","msg","forEach","item","totalItemQty","entries","reduce","sum","e","qty","ctn","name","entry","batch","console","log"],"sources":["C:/Users/Jai Ayurved research/Documents/Projuect Supervisor/src/utils/submitOrder.js"],"sourcesContent":["// utils/submitOrder.js (final debugged version with MFG/EXP for WhatsApp)\r\nimport exportToCSV from './exportToCSV';\r\nimport sendViaWhatsApp from './sendViaWhatsApp';\r\n\r\nexport default function submitOrder({ cart, dealer, vehicleName, vehicleNumber, notes, totalCTN }) {\r\n  const dealerName = dealer?.[\"Dealer Name\"] || \"Unknown Dealer\";\r\n\r\n  // 1. Export to CSV\r\n  exportToCSV(cart, dealerName, vehicleName, vehicleNumber, notes);\r\n\r\n  // 2. Build WhatsApp message manually\r\n  let msg = `üõí *Factory Dispatch Summary*\\n\\n`;\r\n  msg += `üë§ Dealer: ${dealerName}\\n`;\r\n\r\n  cart.forEach(item => {\r\n  const totalItemQty = item.entries.reduce(\r\n    (sum, e) => sum + ((e.qty || 0) * (e.ctn || 0)),\r\n    0\r\n  );\r\n\r\n  msg += `\\nüîπ ${item.name} ‚Äì ${totalItemQty} pcs`;\r\n\r\n  item.entries.forEach(entry => {\r\n    msg += `\\n   üì¶ Batch: ${entry.batch || '-'}, Qty: ${entry.qty || 0}, CTN: ${entry.ctn || 0}`;\r\n  });\r\n});\r\n\r\n\r\n  msg += `\\n\\nüöõ Vehicle: ${vehicleName || 'N/A'} (${vehicleNumber || 'N/A'})`;\r\n  msg += `\\nüì¶ Total CTNs: ${totalCTN || 0}`;\r\n  if (notes) msg += `\\nüìù Notes: ${notes}`;\r\n  msg += `\\n\\n‚úÖ CSV attached. Please review.`;\r\n\r\n  console.log(\"üì¶ WhatsApp Message Preview:\\n\", msg);\r\n\r\n  // 3. Send message via WhatsApp\r\n  sendViaWhatsApp(\"919829280873\", msg);\r\n}\r\n"],"mappings":"AAAA;AACA,OAAOA,WAAW,MAAM,eAAe;AACvC,OAAOC,eAAe,MAAM,mBAAmB;AAE/C,eAAe,SAASC,WAAWA,CAAC;EAAEC,IAAI;EAAEC,MAAM;EAAEC,WAAW;EAAEC,aAAa;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EACjG,MAAMC,UAAU,GAAG,CAAAL,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG,aAAa,CAAC,KAAI,gBAAgB;;EAE9D;EACAJ,WAAW,CAACG,IAAI,EAAEM,UAAU,EAAEJ,WAAW,EAAEC,aAAa,EAAEC,KAAK,CAAC;;EAEhE;EACA,IAAIG,GAAG,GAAG,mCAAmC;EAC7CA,GAAG,IAAI,cAAcD,UAAU,IAAI;EAEnCN,IAAI,CAACQ,OAAO,CAACC,IAAI,IAAI;IACrB,MAAMC,YAAY,GAAGD,IAAI,CAACE,OAAO,CAACC,MAAM,CACtC,CAACC,GAAG,EAAEC,CAAC,KAAKD,GAAG,GAAI,CAACC,CAAC,CAACC,GAAG,IAAI,CAAC,KAAKD,CAAC,CAACE,GAAG,IAAI,CAAC,CAAE,EAC/C,CACF,CAAC;IAEDT,GAAG,IAAI,QAAQE,IAAI,CAACQ,IAAI,MAAMP,YAAY,MAAM;IAEhDD,IAAI,CAACE,OAAO,CAACH,OAAO,CAACU,KAAK,IAAI;MAC5BX,GAAG,IAAI,kBAAkBW,KAAK,CAACC,KAAK,IAAI,GAAG,UAAUD,KAAK,CAACH,GAAG,IAAI,CAAC,UAAUG,KAAK,CAACF,GAAG,IAAI,CAAC,EAAE;IAC/F,CAAC,CAAC;EACJ,CAAC,CAAC;EAGAT,GAAG,IAAI,mBAAmBL,WAAW,IAAI,KAAK,KAAKC,aAAa,IAAI,KAAK,GAAG;EAC5EI,GAAG,IAAI,oBAAoBF,QAAQ,IAAI,CAAC,EAAE;EAC1C,IAAID,KAAK,EAAEG,GAAG,IAAI,eAAeH,KAAK,EAAE;EACxCG,GAAG,IAAI,oCAAoC;EAE3Ca,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEd,GAAG,CAAC;;EAElD;EACAT,eAAe,CAAC,cAAc,EAAES,GAAG,CAAC;AACtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}